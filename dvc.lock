schema: '2.0'
stages:
  db_to_feather:
    cmd: "python mbti_type_from_text/cli/dvc_stages/db_to_feather.py --db_path data/raw/reddit.db\
      \ --users_feather_path data/processed/users.feather --comments_feather_path\
      \ data/processed/comments.feather\n"
    deps:
    - path: data/raw/reddit.db
      md5: 1f663fe7c5d9920c814ce68c49471015
      size: 21819392
    - path: mbti_type_from_text/cli/dvc_stages/db_to_feather.py
      md5: c376ac1c3e40463d63d1b1f1ee2447b8
      size: 1949
    outs:
    - path: data/processed/comments.feather
      md5: 74de9c4e06b4ae2f7b8afbb453bc3079
      size: 18188026
    - path: data/processed/users.feather
      md5: 4de90b62e9178623539faf33f9f1076b
      size: 289682
  extract_mbti:
    cmd: "python mbti_type_from_text/cli/dvc_stages/extract_mbti.py --users_feather_path\
      \ data/processed/users.feather --comments_feather_path data/processed/comments.feather\
      \ --users_mbti_feather_path data/processed/mbti_per_user.feather\n"
    deps:
    - path: data/processed/comments.feather
      md5: 74de9c4e06b4ae2f7b8afbb453bc3079
      size: 18188026
    - path: data/processed/users.feather
      md5: 4de90b62e9178623539faf33f9f1076b
      size: 289682
    - path: mbti_type_from_text/cli/dvc_stages/extract_mbti.py
      md5: 314657b117b86325a8c1f8a32eb2109a
      size: 5458
    outs:
    - path: data/processed/mbti_per_user.feather
      md5: a41483b0b957c4f6a7c1e85648df9e13
      size: 134098
  compute_statistics_and_tokens_per_user:
    cmd: "python  mbti_type_from_text/cli/dvc_stages/compute_statistics_and_tokens_per_user.py\
      \ --comments_feather_path data/processed/comments.feather --users_mbti_feather_path\
      \ data/processed/mbti_per_user.feather --stats_per_user_path data/processed/stats_per_user.feather\
      \ --tokens_per_user_path data/processed/tokens_per_user.feather\n"
    deps:
    - path: data/processed/comments.feather
      md5: 74de9c4e06b4ae2f7b8afbb453bc3079
      size: 18188026
    - path: data/processed/mbti_per_user.feather
      md5: a41483b0b957c4f6a7c1e85648df9e13
      size: 134098
    - path: mbti_type_from_text/cli/dvc_stages/compute_statistics_and_tokens_per_user.py
      md5: b69dc77e244e8b885b8f31e5478a5877
      size: 9664
    outs:
    - path: data/processed/stats_per_user.feather
      md5: 9ed575547e066b581b837ab35a6aec82
      size: 818450
    - path: data/processed/tokens_per_user.feather
      md5: 4a9ade82dc7f462769948c43fce5c8aa
      size: 8569066
  plot_statistics_per_user_with_umap:
    cmd: "python mbti_type_from_text/cli/dvc_stages/plot_statistics_per_user_with_umap.py\
      \ --stats_per_user_path data/processed/stats_per_user.feather --users_mbti_feather_path\
      \ data/processed/mbti_per_user.feather --plot_path plots/stats_per_user_umap.html\n"
    deps:
    - path: data/processed/mbti_per_user.feather
      md5: a41483b0b957c4f6a7c1e85648df9e13
      size: 134098
    - path: data/processed/stats_per_user.feather
      md5: 9ed575547e066b581b837ab35a6aec82
      size: 818450
    - path: mbti_type_from_text/cli/dvc_stages/plot_statistics_per_user_with_umap.py
      md5: 1f0c7ae5f5246a1d246164ff0b0a6cf6
      size: 2340
    outs:
    - path: plots/stats_per_user_umap.html
      md5: de8d5bd26e88dc86616150fa7a97fa7c
      size: 4066174
